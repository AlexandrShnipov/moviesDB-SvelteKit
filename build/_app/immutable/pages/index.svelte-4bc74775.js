import{S as C,i as I,s as N,e as $,t as O,c as b,a as y,h as U,d as p,b as h,g as v,F as g,L as B,M as H,N as L,k as S,m as k,O as R,P as A,Q as E,R as Q,r as m,o as x,p as d,q as j,T as G,x as P,y as T,z as w,C as q,U as J,H as K}from"../chunks/index-8a424401.js";import{g as W}from"../chunks/navigation-772a9d8a.js";import{f as M}from"../chunks/index-a2e206fb.js";import{M as X}from"../chunks/MovieCard-7230cdc7.js";import"../chunks/singletons-cdeec3fd.js";function F(u){let e,i,t,a,f;return{c(){e=$("label"),i=O("Search Movies"),this.h()},l(o){e=b(o,"LABEL",{for:!0,class:!0});var s=y(e);i=U(s,"Search Movies"),s.forEach(p),this.h()},h(){h(e,"for","search_movie"),h(e,"class","svelte-1jrpx7n")},m(o,s){v(o,e,s),g(e,i),f=!0},i(o){f||(B(()=>{a&&a.end(1),t=H(e,M,{y:-10,duration:500}),t.start()}),f=!0)},o(o){t&&t.invalidate(),a=L(e,M,{y:-10,duration:500}),f=!1},d(o){o&&p(e),o&&a&&a.end()}}}function V(u){let e,i,t,a,f;return{c(){e=$("button"),i=O("Search"),this.h()},l(o){e=b(o,"BUTTON",{class:!0});var s=y(e);i=U(s,"Search"),s.forEach(p),this.h()},h(){h(e,"class","svelte-1jrpx7n")},m(o,s){v(o,e,s),g(e,i),f=!0},i(o){f||(B(()=>{a&&a.end(1),t=H(e,M,{x:0,duration:500}),t.start()}),f=!0)},o(o){t&&t.invalidate(),a=L(e,M,{x:20,duration:500}),f=!1},d(o){o&&p(e),o&&a&&a.end()}}}function Y(u){let e,i,t,a,f,o,s,_,r=!u[1]&&F(),l=u[0]&&V();return{c(){e=$("form"),r&&r.c(),i=S(),t=$("input"),f=S(),l&&l.c(),this.h()},l(n){e=b(n,"FORM",{class:!0});var c=y(e);r&&r.l(c),i=k(c),t=b(c,"INPUT",{type:!0,id:!0,class:!0}),f=k(c),l&&l.l(c),c.forEach(p),this.h()},h(){h(t,"type","text"),h(t,"id","search_movie"),h(t,"class",a=R(u[1]?"selected":"")+" svelte-1jrpx7n"),h(e,"class","svelte-1jrpx7n")},m(n,c){v(n,e,c),r&&r.m(e,null),g(e,i),g(e,t),A(t,u[0]),g(e,f),l&&l.m(e,null),o=!0,s||(_=[E(t,"blur",u[2]),E(t,"focus",u[4]),E(t,"input",u[5]),E(e,"submit",Q(u[3]))],s=!0)},p(n,[c]){n[1]?r&&(x(),d(r,1,1,()=>{r=null}),j()):r?c&2&&m(r,1):(r=F(),r.c(),m(r,1),r.m(e,i)),(!o||c&2&&a!==(a=R(n[1]?"selected":"")+" svelte-1jrpx7n"))&&h(t,"class",a),c&1&&t.value!==n[0]&&A(t,n[0]),n[0]?l?c&1&&m(l,1):(l=V(),l.c(),m(l,1),l.m(e,null)):l&&(x(),d(l,1,1,()=>{l=null}),j())},i(n){o||(m(r),m(l),o=!0)},o(n){d(r),d(l),o=!1},d(n){n&&p(e),r&&r.d(),l&&l.d(),s=!1,G(_)}}}function Z(u,e,i){let t="",a=!1;const f=()=>{t?i(1,a=!0):i(1,a=!1)},o=()=>{W("/search/"+t)},s=()=>i(1,a=!0);function _(){t=this.value,i(0,t)}return[t,a,f,o,s,_]}class ee extends C{constructor(e){super(),I(this,e,Z,Y,N,{})}}function z(u,e,i){const t=u.slice();return t[1]=e[i],t}function D(u){let e,i;return e=new X({props:{movie:u[1]}}),{c(){P(e.$$.fragment)},l(t){T(e.$$.fragment,t)},m(t,a){w(e,t,a),i=!0},p(t,a){const f={};a&1&&(f.movie=t[1]),e.$set(f)},i(t){i||(m(e.$$.fragment,t),i=!0)},o(t){d(e.$$.fragment,t),i=!1},d(t){q(e,t)}}}function te(u){let e,i,t,a,f,o=u[0],s=[];for(let r=0;r<o.length;r+=1)s[r]=D(z(u,o,r));const _=r=>d(s[r],1,1,()=>{s[r]=null});return{c(){e=$("h3"),i=O("Popular Movies"),t=S(),a=$("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){e=b(r,"H3",{class:!0});var l=y(e);i=U(l,"Popular Movies"),l.forEach(p),t=k(r),a=b(r,"DIV",{class:!0});var n=y(a);for(let c=0;c<s.length;c+=1)s[c].l(n);n.forEach(p),this.h()},h(){h(e,"class","svelte-egec72"),h(a,"class","popular-movies svelte-egec72")},m(r,l){v(r,e,l),g(e,i),v(r,t,l),v(r,a,l);for(let n=0;n<s.length;n+=1)s[n].m(a,null);f=!0},p(r,[l]){if(l&1){o=r[0];let n;for(n=0;n<o.length;n+=1){const c=z(r,o,n);s[n]?(s[n].p(c,l),m(s[n],1)):(s[n]=D(c),s[n].c(),m(s[n],1),s[n].m(a,null))}for(x(),n=o.length;n<s.length;n+=1)_(n);j()}},i(r){if(!f){for(let l=0;l<o.length;l+=1)m(s[l]);f=!0}},o(r){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)d(s[l]);f=!1},d(r){r&&p(e),r&&p(t),r&&p(a),J(s,r)}}}function le(u,e,i){let{popular:t}=e;return console.log(t[0]),u.$$set=a=>{"popular"in a&&i(0,t=a.popular)},[t]}class re extends C{constructor(e){super(),I(this,e,le,te,N,{popular:0})}}function ae(u){let e,i,t,a,f,o,s,_,r;return a=new ee({}),o=new re({props:{popular:u[0]}}),{c(){e=$("meta"),i=S(),t=$("section"),P(a.$$.fragment),f=S(),P(o.$$.fragment),this.h()},l(l){const n=K('[data-svelte="svelte-5ssqet"]',document.head);e=b(n,"META",{name:!0,content:!0}),n.forEach(p),i=k(l),t=b(l,"SECTION",{});var c=y(t);T(a.$$.fragment,c),f=k(c),T(o.$$.fragment,c),c.forEach(p),this.h()},h(){document.title="Home",h(e,"name","description"),h(e,"content","Svelte demo app")},m(l,n){g(document.head,e),v(l,i,n),v(l,t,n),w(a,t,null),g(t,f),w(o,t,null),r=!0},p(l,[n]){const c={};n&1&&(c.popular=l[0]),o.$set(c)},i(l){r||(m(a.$$.fragment,l),m(o.$$.fragment,l),B(()=>{_&&_.end(1),s=H(t,M,{y:50,duration:500}),s.start()}),r=!0)},o(l){d(a.$$.fragment,l),d(o.$$.fragment,l),s&&s.invalidate(),_=L(t,M,{duration:500}),r=!1},d(l){p(e),l&&p(i),l&&p(t),q(a),q(o),l&&_&&_.end()}}}const fe=!0;async function pe({fetch:u}){const e=await u("https://api.themoviedb.org/3/movie/popular?api_key=d5c35e51c81488b19da7c1f572507a3d&language=en-US&page=1"),i=await e.json();if(console.log(i),e.ok)return{props:{popular:i.results}}}function se(u,e,i){let{popular:t}=e;return u.$$set=a=>{"popular"in a&&i(0,t=a.popular)},[t]}class _e extends C{constructor(e){super(),I(this,e,se,ae,N,{popular:0})}}export{_e as default,pe as load,fe as prerender};
